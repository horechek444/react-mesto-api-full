{"version":3,"sources":["images/logo.svg","images/success.svg","images/error.svg","components/Header.js","hooks/useValidation.js","components/FormContent.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/ImagePopup.js","components/InfoTooltip.js","utils/token.js","utils/Api.js","components/ProtectedRoute.js","auth.js","components/App.js","index.js"],"names":["module","exports","Header","onSignOut","loggedIn","email","location","useLocation","history","useHistory","React","useState","open","setOpen","handleLinkName","pathname","className","href","src","logo","alt","onClick","push","useValidation","fields","fieldsEnumeration","value","reduce","acc","field","isValid","setIsValid","inputValue","setInputValue","validationMessage","setValidationMessage","handleInputChange","event","target","name","validity","valid","FormContent","handleSubmit","formName","submitValue","useEffect","action","onSubmit","preventDefault","password","noValidate","type","onChange","placeholder","required","Login","onLogin","isLoading","Register","onRegister","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","about","map","key","Footer","Popup","isOpen","onClose","children","handleEscapeClose","document","addEventListener","removeEventListener","onMouseUp","currentTarget","handleClassName","EditProfilePopup","onUpdateUser","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","current","ref","AddPlacePopup","DeleteConfirmPopup","ImagePopup","InfoTooltip","isRegister","success","error","setToken","token","localStorage","setItem","getToken","getItem","api","baseUrl","headers","this","fetch","getHeaders","then","res","ok","json","Promise","reject","status","item","method","body","JSON","stringify","newCard","id","ProtectedRoute","routeProps","BASE_URL","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","isTooltipPopupOpen","setTooltipPopupOpen","setLoggedIn","setIsRegister","setEmail","handleContentGetter","data","auth","jwt","catch","err","console","log","tokenCheck","getUserAndCards","a","all","getUserInfo","getCards","userInfo","closeAllPopups","Provider","removeItem","path","response","statusCode","exact","dislikeCard","likeCard","newCards","c","setUserInfo","userData","finally","createCard","setAvatar","deleteCard","deleteCards","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.50b5a140.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.4072126c.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\nimport {useHistory, useLocation} from 'react-router-dom';\n\nconst Header = ({onSignOut, loggedIn, email}) => {\n  const location = useLocation();\n  const history = useHistory();\n  const [open, setOpen] = React.useState(false);\n\n  const handleLinkName = () => {\n    if (location.pathname === '/signin') {\n      return 'Регистрация';\n    } else if (location.pathname === '/') {\n      return 'Выйти';\n    } else {\n      return 'Войти';\n    }\n  }\n\n  const handleButtonClick = () => {\n    if (handleLinkName() === 'Регистрация') {\n      history.push('/signup');\n    } else if (handleLinkName() === 'Войти') {\n      history.push('/signin');\n    } else {\n      onSignOut();\n    }\n  }\n\n  const handleMenuClick = () => {\n    setOpen(!open);\n  }\n\n  const handleClassName = () => {\n    if (loggedIn && open) {\n      return \"header__cover header__cover_type_vertical header__cover_type_active\";\n    } else if (!loggedIn) {\n      return \"header__cover\";\n    } else if (loggedIn) {\n      return \"header__cover header__cover_type_vertical\";\n    }\n  }\n\n  return (\n    <header className={`${loggedIn && open ? `header page__header header_type_active` : `header page__header`}`}>\n      <a className=\"logo header__logo opacity\" href=\"../../public/index.html\">\n        <img className=\"logo__image\" src={logo} alt=\"Логотип сайта Место\"/>\n      </a>\n      <div className={handleClassName()}>\n        <span\n          className={`${loggedIn ? `header__email header__email_type_active` : `header__email`}`}>{email}</span>\n        <button\n          className={`${loggedIn ? `header__button header__button_type_log-out opacity` : `header__button opacity`}`}\n          onClick={handleButtonClick}>{handleLinkName()}</button>\n      </div>\n      <div onClick={handleMenuClick} className={`${loggedIn ? `header__menu-wrapper header__menu-wrapper_type_active` : `header__menu-wrapper`}`}>\n        <div className={open ? `header__menu header__menu_type_active` : `header__menu`}/>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nconst useValidation = (fields) => {\n    const fieldsEnumeration = (value) => {\n        return (\n            fields.reduce((acc, field) => {\n                acc[field] = value;\n                return acc\n            }, {})\n        )\n    };\n\n    const [isValid, setIsValid] = React.useState(fieldsEnumeration(false));\n    const [inputValue, setInputValue] = React.useState(fieldsEnumeration(''));\n    const [validationMessage, setValidationMessage] = React.useState(fieldsEnumeration(''));\n\n    const handleInputChange = (event) => {\n        const {name, value} = event.target;\n        setInputValue({\n            ...inputValue,\n            [name]: value\n        });\n\n        setIsValid({\n            ...isValid,\n            [name]: event.target.validity.valid\n        });\n\n        setValidationMessage({\n            ...validationMessage,\n            [name]: event.target.validationMessage\n        });\n    };\n\n    return {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    }\n}\n\nexport default useValidation;","import React from \"react\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst FormContent = ({handleSubmit, formName, submitValue}) => {\n  const fields = ['email', 'password'];\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    handleSubmit({\n      email: inputValue.email,\n      password: inputValue.password,\n    });\n  }\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  React.useEffect(() => {\n    setInputValue(fieldsEnumeration(''));\n    setIsValid(fieldsEnumeration(false));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <form className=\"form_type_register\"\n          action=\"#\"\n          name={formName}\n          onSubmit={onSubmit}\n          noValidate>\n      <div className=\"popup__cover popup__cover_type_register\">\n        <label className=\"popup__control\">\n          <input\n            className={`${validationMessage.email ? `popup__input popup__input_type_email popup__input_type_error` : `popup__input popup__input_type_email`}`}\n            type=\"email\" name=\"email\" value={inputValue.email}\n            onChange={handleInputChange} placeholder=\"Email\" required/>\n          <span\n            className={`${isValid.email ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.email}</span>\n        </label>\n        <label className=\"popup__control\">\n          <input\n            className={`${validationMessage.password ? `popup__input popup__input_type_password popup__input_type_error` : `popup__input popup__input_type_password`}`}\n            type=\"password\" name=\"password\" value={inputValue.password}\n            onChange={handleInputChange} placeholder=\"Пароль\" required/>\n          <span\n            className={`${isValid.password ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.password}</span>\n        </label>\n      </div>\n      <input\n        className={`${isValid.email && isValid.password ? `button popup__submit popup__submit_type_white` : `button popup__submit popup__submit_type_white popup__submit_type_disabled`}`}\n        type=\"submit\" value={submitValue} name=\"submit\"/>\n    </form>\n  )\n}\n\nexport default FormContent;","import React from \"react\";\nimport FormContent from \"./FormContent\";\n\nconst Login = ({onLogin, isLoading}) => {\n  const submitValue = `${isLoading ? `Выполняется вход...` : `Войти`}`;\n  const formName = \"login\";\n\n  const handleLoginSubmit = ({email, password}) => {\n    if (!email || !password){\n      return;\n    }\n    onLogin(email, password);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"popup__title popup__title_type_white\">Вход</h2>\n        <FormContent handleSubmit={handleLoginSubmit} formName={formName} submitValue={submitValue}/>\n    </section>\n  )\n}\n\nexport default Login;","import React from \"react\";\nimport FormContent from \"./FormContent\";\nimport {Link} from 'react-router-dom';\n\nconst Register = ({onRegister, isLoading}) => {\n  const submitValue = `${isLoading ? `Регистрация...` : `Зарегистрироваться`}`;\n  const formName = \"register\";\n\n  const handleRegisterSubmit = ({email, password}) => {\n    if (!email || !password) {\n      return;\n    }\n    onRegister(email, password);\n  }\n\n  return (\n    <section className=\"register\">\n      <h2 className=\"popup__title popup__title_type_white\">Регистрация</h2>\n      <FormContent handleSubmit={handleRegisterSubmit} formName={formName} submitValue={submitValue}/>\n      <Link to=\"signin\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\n    </section>\n  );\n}\n\nexport default Register;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const handleLikeClick = () => {\n        onCardLike(card);\n    }\n\n    const handleDeleteClick = () => {\n        onCardDelete(card);\n    }\n\n    const handleClick = () => {\n        onCardClick(card);\n    }\n\n    return (\n        <li className=\"pictures__item\">\n            <button\n                className={`${isOwn ? `button pictures__delete pictures__delete_show opacity` : `button pictures__delete opacity`}`}\n                type=\"button\" onClick={handleDeleteClick}/>\n            <img className=\"pictures__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n            <div className=\"pictures__cover\">\n                <p className=\"pictures__title\">{card.name}</p>\n                <div className=\"pictures__like-cover\">\n                    <button\n                        className={`${isLiked ? `button pictures__like pictures__like_active opacity` : `button pictures__like opacity`}`}\n                        type=\"button\" onClick={handleLikeClick}/>\n                    <span className=\"pictures__like-counter\">{card.likes.length}</span>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nconst Main = ({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content page__content\">\n            <section className=\"profile\">\n                <div className=\"profile__cover\">\n                    <div className=\"avatar profile__avatar\" onClick={onEditAvatar}\n                         style={{backgroundImage: `url(${currentUser.avatar})`}}/>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__position\">\n                            <h1 className=\"profile__title\">{currentUser.name}</h1>\n                            <button className=\"button button_edit profile__button opacity\" type=\"button\"\n                                    onClick={onEditProfile}/>\n                        </div>\n                        <p className=\"profile__subtitle\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"button button_add opacity\" type=\"button\" onClick={onAddPlace}/>\n            </section>\n\n            <section className=\"pictures\">\n                <ul className=\"pictures__list\">\n                    {cards.map((card) => <Card key={card._id} onCardClick={onCardClick} card={card}\n                                               onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nconst Footer = () => {\n    return (\n        <footer className=\"footer page__footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nconst Popup = ({name, isOpen, onClose, children}) => {\n  const handleEscapeClose = (event) => {\n    if (event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", handleEscapeClose, false);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose, false);\n    };\n  }, [isOpen]);\n\n  const handleOverlayClose = (event) => {\n    if (event.target === event.currentTarget && isOpen) {\n      onClose();\n    }\n  };\n\n  const handleClassName = (name) => {\n    if (name === \"picture\") {\n      return \"popup__container popup__container_type_picture\";\n    } else if (name === \"info\") {\n      return \"popup__container popup__container_type_info\";\n    } else {\n      return \"popup__container\";\n    }\n  }\n\n  return (\n    <section className={`${isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`}`}\n             onMouseUp={handleOverlayClose}>\n      <div className={handleClassName(name)}>\n        <button className={`${(name === \"info\") ? `button popup__close popup__close_type_info opacity` : `button popup__close opacity`}`}\n                type=\"button\"\n                onClick={onClose}/>\n        {children}\n      </div>\n    </section>\n  );\n}\n\nexport default Popup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditProfilePopup = ({isOpen, onClose, onUpdateUser, isLoading}) => {\n  const fields = ['name', 'about'];\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onUpdateUser({\n      name: inputValue.name,\n      about: inputValue.about,\n    });\n  };\n\n  React.useEffect(() => {\n    setInputValue({\n      name: currentUser.name || '',\n      about: currentUser.about || '',\n    });\n    setIsValid(fieldsEnumeration(true));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [currentUser, isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <Popup name=\"edit\"\n           isOpen={isOpen}\n           onClose={onClose}>\n      <h2 className=\"popup__title\">Редактировать профиль</h2>\n      <form className={'popup__form form_type_edit'}\n            action=\"#\"\n            name=\"edit\"\n            onSubmit={handleSubmit}\n            noValidate>\n        <div className=\"popup__cover\">\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.name ? `popup__input popup__input_type_name popup__input_type_error` : `popup__input popup__input_type_name`}`}\n              type=\"text\" name=\"name\" value={inputValue.name}\n              onChange={handleInputChange} placeholder=\"Имя\" minLength=\"2\" maxLength=\"20\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n            <span\n              className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n          </label>\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.about ? `popup__input popup__input_type_about popup__input_type_error` : `popup__input popup__input_type_about`}`}\n              type=\"text\" name=\"about\" value={inputValue.about}\n              onChange={handleInputChange} placeholder=\"Занятие\" minLength=\"2\" maxLength=\"200\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\" required/>\n            <span\n              className={`${isValid.about ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.about}</span>\n          </label>\n        </div>\n        <input\n          className={`${isValid.name && isValid.about ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n          type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`} name=\"submit\"/>\n      </form>\n    </Popup>\n  )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst EditAvatarPopup = ({isOpen, onClose, onUpdateAvatar, isLoading}) => {\n    const fields = ['avatar'];\n\n    const {\n        isValid, setIsValid,\n        inputValue, setInputValue,\n        validationMessage, setValidationMessage,\n        handleInputChange, fieldsEnumeration\n    } = useValidation(fields);\n\n    const avatarInputRef = React.useRef(null);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarInputRef.current.value,\n        });\n    }\n\n    React.useEffect(() => {\n        setInputValue(fieldsEnumeration(''));\n        setIsValid(fieldsEnumeration(false));\n        setValidationMessage(fieldsEnumeration(''));\n    }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n    return (\n        <Popup name=\"avatar\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <h2 className=\"popup__title\">Обновить аватар</h2>\n            <form className={'popup__form form_type_avatar'}\n                  action=\"#\"\n                  name=\"avatar\"\n                  onSubmit={handleSubmit}\n                  noValidate>\n                <div className=\"popup__cover popup__cover_type_avatar\">\n                    <label className=\"popup__control\">\n                        <input ref={avatarInputRef}\n                               className={`${validationMessage.avatar ? `popup__input popup__input_type_avatar popup__input_type_error` : `popup__input popup__input_type_avatar`}`}\n                               type=\"url\" name=\"avatar\" value={inputValue.avatar} placeholder=\"Ссылка на картинку\"\n                               onChange={handleInputChange} required/>\n                        <span\n                            className={`${isValid.avatar ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.avatar}</span>\n                    </label>\n                </div>\n                <input\n                    className={`${isValid.avatar ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n                    type=\"submit\"\n                    value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n                    name=\"submit\"/>\n            </form>\n        </Popup>\n    )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport useValidation from \"../hooks/useValidation\";\n\nconst AddPlacePopup = ({isOpen, onClose, onAddPlace, isLoading}) => {\n  const fields = ['name', 'link'];\n\n  const {\n    isValid, setIsValid,\n    inputValue, setInputValue,\n    validationMessage, setValidationMessage,\n    handleInputChange, fieldsEnumeration\n  } = useValidation(fields);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onAddPlace({\n      name: inputValue.name,\n      link: inputValue.link\n    });\n  }\n\n  React.useEffect(() => {\n    setInputValue(fieldsEnumeration(''));\n    setIsValid(fieldsEnumeration(false));\n    setValidationMessage(fieldsEnumeration(''));\n  }, [isOpen, setInputValue, setIsValid, setValidationMessage]);\n\n  return (\n    <Popup\n      name=\"add\"\n      isOpen={isOpen}\n      onClose={onClose}>\n      <h2 className=\"popup__title\">Новое место</h2>\n      <form className={'popup__form form_type_add'}\n            action=\"#\"\n            name=\"add\"\n            onSubmit={handleSubmit}\n            noValidate>\n        <div className=\"popup__cover\">\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.name ? `popup__input popup__input_type_title popup__input_type_error` : `popup__input popup__input_type_title`}`}\n              type=\"text\" name=\"name\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\n              pattern=\"^[A-Za-zА-Яа-яЁё\\D][A-Za-zА-Яа-яЁё\\s\\D]*[A-Za-zА-Яа-яЁё\\D]$\"\n              required value={inputValue.name}\n              onChange={handleInputChange}/>\n            <span\n              className={`${isValid.name ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.name}</span>\n          </label>\n          <label className=\"popup__control\">\n            <input\n              className={`${validationMessage.link ? `popup__input popup__input_type_link popup__input_type_error` : `popup__input popup__input_type_link`}`}\n              type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required value={inputValue.link}\n              onChange={handleInputChange}/>\n            <span\n              className={`${isValid.link ? `popup__error` : `popup__error popup__error_type_active`}`}>{validationMessage.link}</span>\n          </label>\n        </div>\n        <input\n          className={`${isValid.link && isValid.name ? `button popup__submit` : `button popup__submit popup__submit_type_disabled`}`}\n          type=\"submit\" value={`${isLoading ? `Сохранение...` : `Сохранить`}`}\n          name=\"submit\"/>\n      </form>\n    </Popup>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport Popup from \"./Popup\";\n\nconst DeleteConfirmPopup = ({card, onClose, isOpen, onCardDelete, isLoading}) => {\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onCardDelete(card);\n    };\n\n    return (\n        <Popup name=\"prevent\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <h2 className=\"popup__title\">Вы уверены?</h2>\n            <form className={'popup__form form_type_prevent'}\n                  action=\"#\"\n                  name=\"prevent\"\n                  onSubmit={handleSubmit}\n                  noValidate>\n                <input className=\"button popup__submit\" type=\"submit\" name=\"submit\"\n                       value={`${isLoading ? `Удаление...` : `Да`}`}/>\n            </form>\n        </Popup>\n    )\n}\n\nexport default DeleteConfirmPopup;","import React from \"react\";\nimport Popup from \"./Popup\";\n\nconst ImagePopup = ({card, isOpen, onClose}) => {\n    return (\n        <Popup name=\"picture\"\n               isOpen={isOpen}\n               onClose={onClose}>\n            <figure className=\"popup__figure\">\n                <img className=\"popup__image\" src={card.link} alt={card.name}/>\n                <figcaption className=\"popup__caption\">{card.name}</figcaption>\n            </figure>\n        </Popup>\n    );\n}\n\nexport default ImagePopup;","import React from \"react\";\nimport Popup from \"./Popup\";\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nconst InfoTooltip = ({isRegister, isOpen, onClose}) => {\n  return (\n    <Popup name=\"info\"\n           isOpen={isOpen}\n           onClose={onClose}>\n        <img className=\"popup__icon\" src={`${isRegister ? `${success}` : `${error}`}`}\n             alt=\"Значок об успешной регистрации либо ошибке\"/>\n        <h2 className=\"popup__title popup__title_type_center\">{`${isRegister ? `Вы успешно зарегистрировались!` : `Что-то пошло не так!\nПопробуйте ещё раз.`}`}</h2>\n    </Popup>\n  );\n}\n\nexport default InfoTooltip;","const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => localStorage.setItem(TOKEN_KEY, token);\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => localStorage.removeItem(TOKEN_KEY);\n","import {getToken} from \"./token\";\n\nclass Api {\n  constructor({baseUrl, headers}) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  getHeaders() {\n    const token = getToken();\n\n    return {\n      ...this.headers,\n      'Authorization': `Bearer ${token}`\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}users/me`, {\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}cards`, {\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  createCard(newCard) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  likeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  dislikeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this.baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify(avatar),\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'http://localhost:3000/',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n\nexport default api;","import React from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst ProtectedRoute = ({loggedIn, ...routeProps}) => {\n  return loggedIn ? <Route {...routeProps} /> : <Redirect to=\"./sign-in\"/>\n}\n\nexport default ProtectedRoute;","import {setToken} from \"./utils/token\";\n\nexport const BASE_URL = 'http://localhost:3000';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(response => {\n      let data = response.json();\n      if(!response.ok) {\n        return Promise.reject(response.status);\n      }\n      return data;\n    })\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then((response => {\n      let data = response.json();\n      if (!response.ok) {\n        return Promise.reject(response.status);\n      }\n      return data;\n    }))\n    .then((data) => {\n      if (data.token){\n        console.log(data.token);\n        setToken(data.token);\n        return data;\n      }\n    })\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then((res => {\n      let data = res.json();\n      if (!res.ok) {\n        return Promise.reject(res.status);\n      }\n      return data;\n    }))\n};\n\n","import React from 'react';\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {getToken, removeToken, setToken} from \"../utils/token\";\nimport {Redirect, Route, Switch, useHistory} from 'react-router-dom';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from '../auth.js';\n\nconst App = () => {\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState([]);\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const [isTooltipPopupOpen, setTooltipPopupOpen] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegister, setIsRegister] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const history = useHistory();\n\n  const handleContentGetter = (token) => {\n    return auth.getContent(token)\n      .then((res) => {\n        setEmail(res.email);\n        setLoggedIn(true);\n        history.push('/');\n      })\n  }\n\n  const tokenCheck = () => {\n    const jwt = getToken();\n    if (!jwt) {\n      return;\n    }\n    handleContentGetter(jwt)\n      .catch((err) => {\n        if (err === 401) {\n          console.log('Произошла ошибка, токен не был передан, был передан не в том формате или не является корректным')\n        }\n      });\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const onLogin = (email, password) => {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (!data) {\n          return\n        }\n        if (data.token) {\n          setToken(data.token);\n          handleContentGetter(data.token)\n        }\n      })\n      .catch((err) => {\n        if (err === 400) {\n          console.log('Произошла ошибка, не передано одно из полей');\n        } else if (err === 401) {\n          console.log('Произошла ошибка, пользователь с данным email не найден');\n        }\n      });\n  }\n\n  const onRegister = (email, password) => {\n    auth.register(email, password)\n      .then((res) => {\n        if (res.statusCode !== 400) {\n          setIsRegister(true);\n          setTooltipPopupOpen(true);\n          history.push('/signin');\n        }\n      })\n      .catch((err) => {\n        setIsRegister(false);\n        setTooltipPopupOpen(true);\n        if (err === 400) {\n          console.log('Произошла ошибка, некорректно заполнено одно из полей')\n        }\n      });\n  }\n\n  const onSignOut = () => {\n    removeToken();\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/signin');\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const promise = isLiked ? api.dislikeCard(card._id) : api.likeCard(card._id);\n    promise\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true)\n    api.deleteCard(card._id)\n      .then(() => {\n        const deleteCards = cards.filter((c) => c._id !== card._id);\n        setCards(deleteCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false)\n      })\n  };\n\n  const getUserAndCards = async () => {\n    try {\n      const [userInfo, cards] = await Promise.all([api.getUserInfo(), api.getCards()]);\n      setCards(cards);\n      setCurrentUser(userInfo);\n    } catch (err) {\n      console.log(`${err}`);\n    }\n  };\n\n  React.useEffect(() => {\n    if (!loggedIn) return;\n    getUserAndCards();\n  }, [loggedIn]);\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n\n  const handleDeletePopupOpenClick = (card) => {\n    setDeletePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const handleCardClick = (card) => {\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(false);\n    setImagePopupOpen(false);\n    setTooltipPopupOpen(false);\n  };\n\n  const handleUpdateUser = (userInfo) => {\n    setIsLoading(true)\n    api.setUserInfo(userInfo)\n      .then((userData) => {\n        setCurrentUser(userData.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  const handleUpdateAvatar = (inputValue) => {\n    setIsLoading(true)\n    api.setAvatar(inputValue)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  const handleAddPlaceSubmit = (inputValue) => {\n    setIsLoading(true)\n    api.createCard(inputValue)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__cover\">\n        <Switch>\n          <CurrentUserContext.Provider value={currentUser}>\n            <Header onSignOut={onSignOut} loggedIn={loggedIn} email={email}/>\n            <Route path=\"/signin\">\n              <Login onLogin={onLogin} isLoading={isLoading}/>\n            </Route>\n            <Route path=\"/signup\">\n              <Register onRegister={onRegister} isLoading={isLoading}/>\n            </Route>\n            <ProtectedRoute exact path=\"/\" loggedIn=\"loggedIn\">\n              <Main\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeletePopupOpenClick}\n                cards={cards}\n              />\n              <Footer/>\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}\n                             onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                               onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n\n              <DeleteConfirmPopup isOpen={isDeletePopupOpen} onClose={closeAllPopups}\n                                  card={selectedCard} onCardDelete={handleCardDelete} isLoading={isLoading}/>\n\n              <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\n\n            </ProtectedRoute>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/signin\"/>}\n            </Route>\n          </CurrentUserContext.Provider>\n        </Switch>\n        <InfoTooltip isRegister={isRegister} isOpen={isTooltipPopupOpen} onClose={closeAllPopups}/>\n      </div>\n    </div>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}